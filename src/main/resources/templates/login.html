<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">

<head th:replace="~{layout/layout :: head}"></head>

<body class="bg-slate-800 flex flex-col justify-center items-center h-screen w-screen ">
<div
        class="relative bg-slate-900 p-10 rounded-xl w-1/3 flex flex-col gap-4
        text-white text-center shadow-xl shadow-sky-800">
  <div class="absolute top-5 left-5">
    <a th:href="@{/}" class="text-white font-semibold hover:text-lg transition-all"> &#8592; Back</a>
  </div>
  <header class="text-3xl">
    <h1>Iniciar Sesión</h1>
  </header>
  <div>
    <form action="" th:action="@{/login}" method="post" class="flex flex-col gap-4">
      <div>
        <span th:if="${error}" class="text-red-500">[[${error}]]</span>
        <span th:if="${logout}" class="text-sky-500">[[${logout}]]</span>
      </div>
      <div class="flex flex-col gap-4 text-start">
        <label for="username" class="text-lg">Correo</label>
        <input type="text" id="username" name="username" th:value="${username}" required
               placeholder="Ingresa tu correo"
               pattern="^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$"
               maxlength="100"
               title="Debe ser un correo válido con un máximo de 100 caracteres"
               class="bg-transparent py-2 outline-none border-b border-sky-400 focus:border-sky-500 transition-all focus:scale-105 focus:font-normal">
      </div>
      <div class="flex flex-col gap-4 text-start relative">
        <label for="password" class="text-lg">Contraseña</label>
        <input type="password" id="password" name="password" th:value="${password}" required
               placeholder="Ingresa tu contraseña"
               class="bg-transparent py-2 outline-none border-b border-sky-400
                       focus:border-sky-500 transition-all focus:scale-105 focus:font-normal">

        <button type="button" onclick="VerPassword()"
                class="absolute right-3 bottom-4 text-sky-400 hover:text-sky-500 focus:outline-none">Ver
        </button>
      </div>
      <div class="text-gray-500">
                <span>Si no tienes cuenta, <a th:href="@{/register}"
                                              class="hover:text-slate-300 hover:underline
                                              transition-all underline-offset-4">Regístrate ahora</a></span>
      </div>
      <div class="mt-3">
        <input type="submit"
               class="border border-slate-300 py-3 px-4 rounded hover:bg-white
                       hover:text-slate-800 transition-all active:scale-105 font-bold text-lg text-white"
               value="Iniciar Sesión">
      </div>
    </form>
  </div>
</div>

<footer class="relative" th:replace="~{layout/layout :: footer}"></footer>

<script>
  function VerPassword() {
    const passwordField = document.getElementById("password");
    if (passwordField.type === "password") {
      passwordField.type = "text";
    } else {
      passwordField.type = "password";
    }
  }
</script>

</body>
</html>
